<properties
   pageTitle="Lista kontrolna skalowalność | Microsoft Azure"
   description="Wskazówki dotyczące listy kontrolnej skalowalność dotyczy projekt dla Azure Autoscaling."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="scalability-checklist"></a>Lista kontrolna skalowalność

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="service-design"></a>Projektowanie usługi
- **Partycją obciążenie pracą**. Projektowanie części tego procesu jako osobny i decomposable. Minimalizowanie rozmiar każdej części podczas zgodnie ze zwykłymi regułami dla oddzieleniu wady i zasady odpowiedzialności jednego. Dzięki temu części do dystrybucji w taki sposób, aby maksymalizuje każdej jednostki obliczeń (na przykład serwer roli lub bazy danych). Również ułatwi przeskalować aplikacji, dodając wystąpienia określonych zasobów. Aby uzyskać więcej informacji zobacz [Wskazówki obliczenia podziału](https://msdn.microsoft.com/library/dn589773.aspx).
- **Projektowanie skalowania**. Skalowanie umożliwia aplikacjom reagować na obciążenia zmiennych, zwiększając i zmniejszenie liczby wystąpień ról, kolejek i innych usług mogą używać. Jednak aplikacji muszą być zaprojektowane z tym pamiętać. Na przykład aplikacji i usług, które są używane muszą być bezstanowym, aby umożliwić żądania kierowane do każdego wystąpienia. To zapobiega także dodawania lub usuwania określone wystąpienia negatywny wpływ bieżących użytkowników. Możesz również wykonała konfiguracji lub automatycznego wykrywania wystąpień dodane i usunięte, tak, że kod w aplikacji można wykonywać niezbędne routing. Na przykład aplikacji sieci web może użyć zestawu kolejek w sposób okrężny do kierowania żądań do tła services działający w role pracownika. Aplikacja sieci web musi być wykryć zmiany w polu Liczba kolejki, aby pomyślnie kierowania żądań i obciążenie na pasku aplikacji.
- **Skala jako jednostki**. Planowanie pod kątem dodatkowych zasobów zezwalały na wzrostu. Dla każdego zasobu ustalić górnym skalowania limity i te limity musi odbywać się za pomocą sharding lub rozkładu. Określanie skali systemu pod względem dobrze zdefiniowanych zestawów zasobów. Dzięki temu stosowania operacje poza skalowanie łatwiejsze i mniej podatne na negatywny wpływ na aplikacji za pomocą ograniczeń nałożonych przez braku zasobów w niektórych części cały system. Na przykład dodając x liczbę ról w sieci web i pracownik może wymagać y liczby kolejne kolejek i numerów z kont miejsca do magazynowania powinien obsługiwać dodatkowe obciążenie pracą wygenerowane przez role. Aby jednostka skali może zawierać x role sieci web i Pracownik, kolejki _y_ i _z_ magazynu kont. Projektowanie aplikacji tak, aby łatwo jest skalowany, dodając jedną lub więcej jednostek skali.
- **Unikaj koligacji**. Jeśli to możliwe, upewnij się, że aplikacja nie wymaga koligacji. Żądania można zatem kierowane do każdego wystąpienia i liczbę wystąpień nie ma znaczenia. To również pozwala uniknąć ogólnych przechowywania, pobierania i utrzymywanie informacji o stanie dla każdego użytkownika.
- **Korzystanie z funkcji autoscaling platformy**. W przypadku, gdy hostingu platformy oferuje możliwość autoscaling takich jak Azure Autoscale woli go mechanizmy niestandardowe lub innych firm chyba że wbudowany mechanizm nie spełnienia wymagań. Przy użyciu reguł skalowania zaplanowane miejsce, w którym są dostępne bez opóźnienia uruchamiania aby zapewnić zasoby, ale dodawanie reaktywne autoscaling reguł, stosownie do radzenia sobie z nieoczekiwane na żądanie. Aby dopasować autoscaling i Dodawanie liczników niestandardowych do reguły, można użyć operacji autoscaling w interfejsie API zarządzania usługi. Aby uzyskać więcej informacji zobacz [Automatyczne skalowanie wskazówki na temat](best-practices-auto-scaling.md).
- **Odciążanie Procesora-Jo zadania jako zadania w tle**. Jeśli żądanie usługi może zająć dużo czasu uruchomienia lub pochłania znacznych zasobów, zwolnienie przetwarzania dla tego żądania do oddzielnego zadania. Do wykonywania następujących zadań za pomocą role pracownik lub zadań wykonywanych w tle (w zależności od platformy hostingu). Tej strategii umożliwia usłudze nadal odbieraniem dalszych żądania i pozostawać odpowiada.  Aby uzyskać więcej informacji zobacz [wskazówki na temat zadań tła](best-practices-background-jobs.md).
- **Rozłóż obciążenie pracą dla zadania w tle**. Gdzie jest wiele zadań tła lub zadania wymaga wiele czasu lub zasobów, rozmieszczony wiele jednostek obliczeń (na przykład role pracownik lub zadań wykonywanych w tle) pracy. Aby uzyskać możliwe rozwiązanie zobacz [Uczestniczących w zawodach deseniu konsumentów](https://msdn.microsoft.com/library/dn568101.aspx).
- **Rozważ możliwość kierunku _udostępnione żaden element nie_ architektura**. Architektura udostępnione żaden element nie używa niezależne, samowystarczalne węzły, które mają nie centralne konfliktu (na przykład usług udostępnionych lub miejsce do magazynowania). Teoretycznie taki system można skalować niemal nieograniczony. Podczas podejście w pełni udostępnione — żaden element nie jest zazwyczaj praktyczne dla większości aplikacji, może ona szans sprzedaży do projektowania lepszą skalowalność. Na przykład unikania korzystanie ze stanu sesji po stronie serwera, koligacji klienta i podział danych są dobre przykłady kierunku architektura udostępnione żaden element nie.

## <a name="data-management"></a>Zarządzanie danymi

- **Używanie danych podziału**. Dzielenie danych w wielu baz danych i serwerów baz danych lub projekt aplikacji w celu przechowywania danych za pomocą usług, które umożliwiają tego podziału przezroczysty (przykłady bazy danych elastyczne bazy danych SQL Azure i Magazyn tabel platformy Azure). Tej metody może pomóc zwiększyć wydajność i zezwolić na łatwiejsze skalowania. Istnieją różne podziału technik, takich jak poziomą, pionową i funkcjonalne. Za pomocą połączenia tych uzyskanie maksymalnych korzyści z kwerendy lepszą wydajność i skalowalność prostsze, bardziej elastyczne zarządzania, lepszą dostępność i zgodnie z typem magazyn, aby dane, które będą przechowywane. Rozważ też przy użyciu różnych rodzajów magazynu danych dla różnych typów danych, wybierając pozycję typy według jak są zoptymalizowane dla określonego typu danych. Mogą one obejmować przy użyciu magazyn tabel, bazie danych dla dokumentu lub przechowywanie danych kolumny rodziny, zamiast lub oraz jako relacyjnej bazy danych. Aby uzyskać więcej informacji zobacz [wskazówki na temat podziału danych](best-practices-data-partitioning.md).
- **Projektowanie ewentualne spójności**. Ewentualne spójności zwiększa skalowalność zmniejszania i usuwając czas potrzebny do synchronizowania danych pokrewnych podzielona przez wiele sklepów. Koszt jest danych nie zawsze spójne gdy jest odczytu, a niektóre zapisu operacji może powodować konflikty. Ewentualne spójności to idealne rozwiązanie w sytuacji, w których te same dane przeczytać często, ale rzadko napisane. Aby uzyskać więcej informacji zobacz [Elementarz spójności danych](https://msdn.microsoft.com/library/dn589800.aspx).
- **Zmniejszanie chatty interakcje między składniki i usługi**. Unikać projektowania interakcji, w których aplikacja jest wymagane na potrzeby wielu połączeń z usługą (z których każdy będzie zwraca niewielka ilość danych), a nie jednego połączenia, która może zwrócić wszystkie dane. Jeśli to możliwe, należy połączyć kilka powiązanych operacji do pojedynczego żądania w przypadku połączenia z usługą lub składnik, który ma zauważalne opóźnienie. Ta funkcja ułatwia monitorowanie wydajności i zoptymalizować złożonych operacji. Na przykład umieszczać złożonych logiczny za pomocą procedur składowanych w bazach danych i Zmniejsz liczbę niepotrzebnej i blokowanie zasobów.
- **Za pomocą kolejek Aby zbilansować obciążenie wysokiej prędkości zapisywanie**. Przepięcia w żądanie usługi można zasypać tej usługi i powodować błędy rosnące. Aby tego uniknąć, należy rozważyć implementacji [opartych na kolejkach deseniu bilansowania obciążenia](https://msdn.microsoft.com/library/dn589783.aspx). Za pomocą kolejki działająca jako buforu między usługą, która go wywołuje i zadania. To jest gładkim przejściowymi dużym obciążeniem, które w przeciwnym razie mogą powodować awarię usługi lub zadanie do limitu czasu.
- **Minimalizuj obciążenie magazynu danych**. Magazyn danych często jest gardło przetwarzanie, kosztów zasobów i często nie ułatwiają skalowania. Jeśli to możliwe, Usuń logiczny (na przykład przetwarzania dokumentów XML lub obiekty JSON) z magazynu danych i przetwarzania aplikacji. Na przykład zamiast przekazywania XML do bazy danych (inne niż jako ciąg nieprzezroczystości do przechowywania), szeregować lub deserializacji XML w warstwie aplikacji i przekazać je w formularzu, który jest natywnych do magazynu danych. Jest zwykle łatwiej skalowania aplikacji niż magazynu danych, należy wykonać możliwie największą część przetwarzanie obliczeniowych, jak to możliwe w aplikacji podjąć próbę.
- **Pobrane Minimalizuj ilości danych**. Pobierz tylko tych danych, które wymagają określając kolumn, a następnie zaznacz wiersze za pomocą kryteriów. Upewnij się, użycie tabeli wartości parametrów i poziomu izolacji właściwe. Użyj mechanizmy, takie jak znaczniki jednostki, aby uniknąć niepotrzebnego pobierania danych.
- **Skrupulatnie za pomocą pamięci podręcznej**. Użyj pamięci podręcznej, gdy jest to możliwe w celu zmniejszenia obciążenia zasobów i usług, które wygenerować lub dostarczanie danych. Buforowanie zazwyczaj jest odpowiedni dla danych, który jest względnie statyczne lub znaczące przetwarzanie uzyskanie, która wymaga. Buforowanie powinna zostać wykonana na wszystkich poziomach odpowiednio w każdej warstwie aplikacji, w tym Generowanie interfejsu danych programu access i użytkownika. Aby uzyskać więcej informacji zobacz [Wskazówki pamięci podręcznej](best-practices-caching.md).
- **Uchwyt wzrostu danych i przechowywania**. Ilość danych przechowywanych przez aplikację rozwoju w czasie. Wzrostu zwiększa koszty magazynowania i zwiększa opóźnienie podczas uzyskiwania dostępu do danych, która ma wpływ na wydajność i przepustowość aplikacji. Może być możliwe okresowo archiwizowanie część starych danych, który jest już dostępny lub przenieść dane, które rzadko jest dostępny do długotrwałych miejsca na przechowywanie więcej koszt efektywne, nawet jeśli opóźnienie programu access jest wyższa.
- **Optymalizowanie danych przenieść obiektów (DTOs) przy użyciu wydajność format binarny**. DTOs są przekazywane między warstwami aplikacji wielokrotnie. Minimalizowanie rozmiaru zmniejsza obciążenie sieci i zasobów. Jednak saldo oszczędności przy obciążeniu konwersji danych na wymagany format w każdej lokalizacji, w której są one używane. Przyjąć formatu, który ma maksymalną współdziałania umożliwiający ponownego składnika.
- **Ustawianie kontroli pamięci podręcznej**. Projektowanie i konfigurowanie aplikacji za pomocą buforowania stron wyjściowych lub fragment pamięci podręcznej, jeśli to możliwe zminimalizować przetwarzanie ładowania.
- **Włącz buforowanie po stronie klienta**. Aplikacje sieci Web, należy włączyć ustawienia pamięci podręcznej na zawartość, która może być przechowywanych w pamięci podręcznej. To jest często domyślnie wyłączone. Konfigurowanie serwera do przeprowadzania odpowiednich pamięci podręcznej nagłówki sterowania Włącz buforowanie zawartości na serwery proxy i klientów.
- **Magazyn obiektów blob Azure użycia i Azure sieci dostarczania zawartości w celu zmniejszenia obciążenia na pasku aplikacji**. Należy rozważyć, czy przechowywania statyczną lub względnie statyczne publicznej zawartość, taką jak obrazy, zasoby, skrypty i arkusze stylów w magazynie obiektów blob. Tej metody upusty stosowania obciążenia spowodowane przez dynamiczne generowanie tej zawartości dla każdego żądania. Ponadto należy rozważyć sieci dostarczania zawartości do pamięci podręcznej tej zawartości i przekazać go do klientów. Za pomocą sieci dostarczania zawartości może zwiększyć wydajność po stronie klienta, ponieważ zawartość jest dostarczana z geograficznie najbliższego centrum danych, zawierający sieci dostarczania zawartości pamięci podręcznej. Aby uzyskać więcej informacji zobacz [Wskazówki sieci dostarczania zawartości](best-practices-cdn.md).
- **Optymalizacja i dostosować SQL kwerendy i indeksy**. Niektóre instrukcji T SQL lub konstrukcji mogą mieć wpływ na wydajność, który można zmniejszyć przez Optymalizowanie kodu w procedurze przechowywanej. Na przykład Unikaj Konwertowanie typu **Data/Godzina** **varchar** przed porównania z literał **daty i godziny** . Zamiast tego użyj funkcji porównanie daty/godziny. Brak odpowiednie indeksy również może spowolnić wykonywanie kwerendy. Użycie obiektu relacyjnych framework mapowania zrozumieć, jak działa i jak może wpływać na wydajność Warstwa dostępu do danych. Aby uzyskać więcej informacji zobacz [Dostosowywanie zapytania](https://technet.microsoft.com/library/ms176005.aspx).
- **Rozważ możliwość usuwania normalizowanie danych**. Normalizacji danych pomaga unikać duplikowanie i niespójności. Jednak zachowaniu wiele indeksów, sprawdzanie więzów integralności wykonywanie wielu dostępu do małych dużych ilości danych i Sprzęganie tabel, aby ponownie połączyć dane są dostosowywane obciążenie, które mogą mieć wpływ na wydajność. Należy rozważyć, jeśli pewne dodatkowe miejsce do magazynowania głośność i duplikowanie jest do przyjęcia w celu zmniejszenia obciążenia magazynu danych. Rozważ też jeśli samej aplikacji (jest to zazwyczaj łatwiej skalowanie) można opierać przejęcie kontroli nad zadaniami, takimi jak zarządzanie więzów integralności w celu zmniejszenia obciążenia magazynu danych. Aby uzyskać więcej informacji zobacz [wskazówki na temat podziału danych](https://github.com/mspnp/azure-guidance/blob/master/Data%20partitioning.md).

## <a name="service-implementation"></a>Implementacji usługi
- **Użyj wywołania asynchroniczne**. Użyj kod asynchroniczny ile to możliwe, podczas uzyskiwania dostępu do zasobów lub usług, które może być ograniczone przez we/wy lub przepustowości sieci lub który ma zauważalne opóźnienie, aby uniknąć blokowania połączeń wątku. Aby zastosować operacji asynchronicznych, za pomocą [Opartym na zadaniu asynchroniczne deseniu (Wybierz)](https://msdn.microsoft.com/library/hh873175.aspx).
- **Należy unikać blokowania zasobów, a zamiast tego użyj metody optymistyczny**. Nigdy nie blokuje dostęp do zasobów, takich jak miejsca do magazynowania lub innych usług, które mają zauważalne opóźnienie, ponieważ jest główną przyczyną niskiej wydajności. Zawsze używaj optymistyczny sposoby zarządzania równoczesne operacji, takich jak zapisywanie do miejsca do magazynowania. Zarządzanie konflikty przy użyciu funkcji warstwy miejsca do magazynowania. W aplikacjach rozłożone danych może być tylko po pewnym czasie spójne.
- **Kompresowanie wysoce Kompresowalne danych przez długim czasem oczekiwania niskiej przepustowości sieci**. W większości przypadków w aplikacji sieci web największej ilości danych generowanych przez aplikację i przekazywane przez sieć jest odpowiedzi HTTP na żądania klientów. Kompresja HTTP można zmniejszyć to znacznie, szczególnie w przypadku zawartość statyczną. Może to zmniejszyć koszty, a także zmniejszania obciążenie sieci, ale kompresowania zawartości dynamicznej stosowanie fractionally wyższe obciążenia na serwerze. W innych więcej ogólnych środowiskach kompresji danych można zmniejszyć objętość przekazywanych i zminimalizować czas przeniesienia i koszty, ale procesów kompresji i dekompresji ponoszenia ogólnych. Jako takie kompresja powinna być używana tylko po widoczne wzmocnienia wydajności. Inne metody szeregowania, takich jak JSON lub kody binarne może zmniejszyć rozmiar ładunku mając mniej wpływ na wydajność, prawdopodobnie XML powiększyć ją.
- **Minimalizuj czas, o jaki zasoby i połączenia są używane**. Obsługa połączeń i zasobów tylko pod warunkiem, musisz użyć ich. Na przykład, jak najpóźniej Otwórz połączenia, a mogły zostać zwrócone do puli połączeń, jak najwcześniej. Jak najpóźniej uzyskiwanie zasobów i pozbycie się ich tak szybko, jak to możliwe.
- **Wymagane Minimalizuj liczbę połączeń**. Połączenia z usługą pochłania zasobów. Ograniczanie liczby, które są wymagane i upewnij się, że istniejące połączenia są używane ponownie, o ile to możliwe. Na przykład po wykonaniu uwierzytelniania, użyj personifikacji odpowiednim uruchomić kod jako określonej tożsamości. Pomaga to jak najlepiej korzystać z puli połączeń na podstawie połączenia.

    > [AZURE.NOTE]: APIs for some services automatically reuse connections, provided service-specific guidelines are followed. It's important that you understand the conditions that enable connection reuse for each service that your application uses.

- **Wysyłanie wezwań partiami zoptymalizować sieci**. Na przykład wysyłanie i czytanie wiadomości w partii podczas uzyskiwania dostępu do kolejki i wykonywanie wielu operacje odczytu i zapisu jako wsadowe podczas uzyskiwania dostępu do miejsca do magazynowania lub pamięci podręcznej. Pomaga to Maksymalizuj efektywności magazynów usług i danych przez zmniejszenie liczby połączeń w sieci.
- **Unikaj wymagane do przechowywania stanu sesji po stronie serwera** w przypadku gdy jest to możliwe. Zarządzanie stanem sesji po stronie serwera wymaga zwykle koligacji klienta (który jest routing każdego żądania do tego samego wystąpienia serwera), który ma wpływ na możliwość skalowania systemu. Najlepiej, jeśli należy projektowanie klientom bezstanowy w stosunku do serwerów, które mogą używać. Jednak jeśli aplikacji należy zachować stan sesji, zawierają dane poufne lub dużych ilości danych według klienta w rozproszonej pamięci podręcznej po stronie serwera, które ma dostęp do wszystkich wystąpień aplikacji.
- **Optymalizowanie schematów magazyn tabel**. Podczas korzystania z tabeli sklepy, które wymagają nazwy tabel i kolumn, aby przekazywane i przetwarzane z każdej kwerendy, takich jak magazyn tabel platformy Azure warto rozważyć użycie skrócić nazwy, aby zmniejszyć ten. Jednak nie Rezygnacja z czytelności i łatwości zarządzania przy użyciu nazw nadmiernie Kompaktuj.
- **Używanie zadań równoległych biblioteki (TPL) do wykonywania operacji asynchronicznych**. TPL ułatwia pisanie kodu asynchroniczne, który wykonuje operacje I-O-powiązanych. Jeśli to możliwe wyeliminować zależności kontynuacji w kontekście danej synchronizacji za pomocą _ConfigureAwait(false)_ . Zmniejsza szanse występujące zakleszczenia wątku.
- **Tworzenie zależności zasobu podczas wdrażania lub podczas uruchamiania aplikacji**. Unikaj połączeń powtarzających się do metod, które przetestuj istnienia zasobu, a następnie utworzyć zasobu, jeśli nie istnieje. (Metod, takich jak _CloudTable.CreateIfNotExists_ i _CloudQueue.CreateIfNotExists_ w bibliotece klienta miejsca do magazynowania Azure wykonaj tego wzorca). Te metody można nałożyć znacznym ogólnych, jeśli mają być wywoływane przed każdego dostępu do tabeli miejsca do magazynowania lub kolejki miejsca do magazynowania. Zamiast tego:
 - Tworzenie wymaganych zasobów po wdrożeniu aplikacji lub podczas pierwszego uruchomienia (dopuszcza się pojedynczego połączenia do _CreateIfNotExists_ dla każdego zasobu w kodzie uruchamiania dla roli sieci web lub pracownika). Jednak pamiętaj obsługiwać wyjątków, które mogą wystąpić, jeśli kodzie próbuje uzyskać dostęp do zasobu, która nie istnieje. W takich przypadkach należy logowania wyjątek i niekiedy alert operatora brakuje zasobu.
 - W niektórych przypadkach może być należy utworzyć brakujące zasób jako część obsługi kodu wyjątków. Jednak to podejście z rozwagą powinna przyjąć, zgodnie z wartością istnienia zasobu mogą wskazywać błąd programistyczny (nazwa zasobu błędnie na przykład) lub innego problemu infrastruktury.
- **Użyj lightweight RAM**. Starannie wybierz interfejsy API i struktury, którego używasz, aby zminimalizować użycie zasobu, czas wykonywania i całkowite obciążenie na pasku aplikacji. Na przykład za pomocą interfejsu API sieci Web do obsługi zleceń serwisowych można ochrona za aplikacji i zwiększyć szybkość wykonanie, ale nie mogą być odpowiednie dla zaawansowanych scenariuszy, w których są wymagane dodatkowe możliwości programu Windows Communication Foundation.
- **Rozważ możliwość Minimalizowanie liczby kont usługi**. Na przykład za pomocą określonego konta dostępu do zasobów lub usług, które nakładają ograniczenia połączenia lub wykonanie lepiej, gdzie mniej połączenia są zachowywane. Ta metoda jest wspólne dla usług, takich jak bazy danych, ale może wpłynąć na możliwość dokładnie Inspekcja operacji z powodu personifikacja oryginalny użytkownika.
- **Przeprowadzania profilowanie wydajności i testowania obciążenia** podczas opracowywania w ramach testujące, a przed wydania wersji ostatecznej, aby upewnić się, że aplikacja wykonuje i skal odpowiednio do potrzeb. Te testy powinna zostać wykonana na tym samym typie sprzętu jako platformy produkcji i przy użyciu takich samych efektów oraz ilości danych i użytkownika obciążenie napotkać w produkcji. Aby uzyskać więcej informacji zobacz [Sprawdzanie wydajność usługi w chmurze](vs-azure-tools-performance-profiling-cloud-services.md).
